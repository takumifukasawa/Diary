# 20250227

思い立って、自作のtypescriptライブラリを設計段階からリプレースしようとしたらすごい時間がかかってしまっている。<br/>
classベースで書いているものを、データ(モデル)+関数にするというものだ。

理由は、ビルドサイズを減らしたいことにある。<br/>
classは結局オブジェクトなので、terserの仕組みに弱い。

という理由からなるべくclassベースを避けようという方針を立てたが、移行が大変。<br/>
基底classを置き換えようとすると、子クラスも同時に置き換える必要がある。<br/>
継承しているclassが多いと一気に置き換えざるをえない。<br/>
...と思っていたが、似たtypeを定義して徐々に置き換えていくことも出来たような気がする。<br/>

---

KALDIのごぼう茶が最近お気に入り。仕事中によく飲む。<br/>
土臭い感じがするのが人によっては合わない可能性もある。<br/>
同じくKALDIのしいたけ茶も気になっている。<br/>
